<div class="page-body">

  <div class="row">
    <div class="col-sm-12 filter-bar">
      <nav class="navbar navbar-light bg-faded m-b-30 p-10">
        Lista de Usuários
        <div class="nav-item nav-grid">
          <span class="m-r-15">Ações: </span>

          <button type="button" class="btn btn-sm" data-toggle="tooltip"
            data-placement="top" title="Cadastrar nova usuario" [routerLink]="['/usuario/cadastro']">
            <i class="icofont icofont-ui-add"></i>
          </button>
        </div>
      </nav>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12">
      <app-card>
        <app-loader [observable]="observable"></app-loader>
        <div class="row">
          <div class="col-sm-12">
            <label class="dt-cust-search f-right">
              <div class="form-group">
                <label>Pesquisar: </label>
                <input type='text' class="form-control input-sm m-l-10" (keyup)='updateFilter($event)' />
              </div>
            </label>
          </div>
        </div>
        <ngx-datatable #table class='data-table' [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
          [rowHeight]="50" [rows]="listaUsuarios" [externalPaging]="true"
          [count]="listaData ? listaData.totalElements : 0" [offset]="listaData ? listaData.page : 0"
          [limit]="listaData ? listaData.size : 10" (page)='setPage($event)'>
          <ngx-datatable-column name="Primeiro Nome"></ngx-datatable-column>
          <ngx-datatable-column name="Ultimo Nome"></ngx-datatable-column>
          <ngx-datatable-column name="Login"></ngx-datatable-column>
          <ngx-datatable-column name="Permissões">
            <ng-template let-row="row" ngx-datatable-cell-template>{{ listarPermissoes(row.permissoes) }}</ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="Ativo">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <label class="label bg-success" *ngIf="row.ativo">Ativo</label>
              <label class="label bg-danger" *ngIf="!row.ativo">Inativo</label>
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column prop="id" name="Opções">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <label class="label bg-warning pointer" [routerLink]="['/usuario/cadastro', row.id]">Ver/Editar</label>
              <label class="label bg-danger pointer" (click)="excluir(row)">Excluir</label>
            </ng-template>
          </ngx-datatable-column>
        </ngx-datatable>
      </app-card>
    </div>
  </div>
</div>